import base64
import io

import PyPDF3

from reportlab.graphics import renderPDF
from reportlab.lib.pagesizes import letter
from reportlab.pdfgen import canvas
from svglib.svglib import svg2rlg


def add_text_to_last_page(pdf_path, text_name, registration, collaborator_role, text_date, text_trainer, font_name='Helvetica', font_size=12, text_color=(0, 0, 0)):
    with open(pdf_path, 'rb') as pdf_file:
        pdf_reader = PyPDF3.PdfFileReader(pdf_file)
        pdf_writer = PyPDF3.PdfFileWriter()

        for page_num in range(pdf_reader.getNumPages() - 1):
            page_obj = pdf_reader.getPage(page_num)
            pdf_writer.addPage(page_obj)

        # Cria um objeto de texto
        packet = io.BytesIO()
        can = canvas.Canvas(packet, pagesize=letter)
        # Posição do texto na página (em pontos)
        can.setFillColorRGB(*text_color)  # Define a cor do texto
        # Define a fonte e o tamanho da fonte
        can.setFont(font_name, font_size)
        can.drawString(69, 488, text_name)
        can.drawString(90, 468, registration)
        can.drawString(69, 448, text_date)
        # can.drawString(325, 488, text)
        can.drawString(310, 468, collaborator_role)
        can.drawString(350, 448, "3:00 hs")
        can.drawString(460, 448, text_trainer)
        can.save()

        packet.seek(0)
        new_pdf = PyPDF3.PdfFileReader(packet)
        page_new = new_pdf.getPage(0)

        last_page = pdf_reader.getPage(pdf_reader.getNumPages() - 1)
        last_page.mergePage(page_new)
        pdf_writer.addPage(last_page)

        with open('pdf_output.pdf', 'wb') as pdf_output_file:
            pdf_writer.write(pdf_output_file)


def svg_to_pdf(svg_file, pdf_file):

    # Convert the SVG file to a ReportLab Drawing object
    drawing = svg2rlg(svg_file)

    # Render the Drawing object to a PDF file
    renderPDF.drawToFile(drawing, pdf_file)


def decode_image_from_data_uri(data_uri, output_filename):
    # Verifique se a string começa com 'xlink:href="data:image/png;base64,'
    if not data_uri.startswith('xlink:href="data:image/png;base64,'):
        print("Formato inválido. Certifique-se de fornecer uma string no formato 'xlink:href=\"data:image/png;base64,'")
        return

    # Extrai a string base64 da URI
    base64_data = data_uri[len('xlink:href="data:image/png;base64,'):]

    try:
        # Decodifica os dados base64 para obter os bytes da imagem
        image_data = base64.b64decode(base64_data)

        # Escreve os bytes da imagem decodificada em um arquivo .png
        with open(output_filename, 'wb') as f:
            f.write(image_data)

        print("Imagem convertida e salva com sucesso como", output_filename)
    except Exception as e:
        print("Ocorreu um erro durante a conversão e salvamento da imagem:", e)


# Exemplo de uso:
if __name__ == "__main__":
    # pdf_path = 'OSSMA_01.pdf'  # Substitua pelo caminho do seu arquivo PDF existente
    # text_name = "Francisco Wilkne do Amaral Maia"
    # registration = "222222"
    # collaborator_role = "Tec. Planjeamento"
    # text_date = "22/02/2023"
    # text_trainer = "Francisco"
    # # Substitua pela fonte desejada (exemplo: 'Arial', 'Times-Roman', etc.)
    # font_name = 'Helvetica'
    # font_size = 12  # Substitua pelo tamanho da fonte desejado
    # # Substitua pela cor desejada em formato RGB (valores entre 0 e 1)
    # text_color = (0.2, 0.4, 0.6)

    # add_text_to_last_page(pdf_path, text_name, registration, collaborator_role, text_date,
    #                       text_trainer, font_name,  font_size, text_color)

    svg_file = "cert_rac_5.svg"  # Substitua pelo caminho do seu arquivo SVG
    pdf_file = "arquivo_convertido.pdf"  # Substitua pelo caminho do PDF resultante

    svg_to_pdf(svg_file, pdf_file)

    # data_uri = 'xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAZAAAAH0CAYAAAAT2nuAAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAACAASURBVHic7d15nGNlne/xz+8k1Vsl1c2+00l1DyouMwqi4OjI6HXGEVGvXq64jcjSnaRppR1AQZxWBhhABaEr1Q0oekVEXAZHUEdF3B0ddx3cupM0zaDs3ZVUL1XJ+d0/kmpZeqklJydV9X2/XmoqlZzzRVu+PM9zznNARERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERERk2rG4A4iItEv/um1HUh99nwf2Bpx15Xx6ZdyZZrJk3AFERKZq8eCjzw48mfdG/QzMwPG4M80GGoGIyLTVv7b2EhpecOM1Y+853JxwH9hQ6Pt+nNlmAxWIiEw72cHqKYQUMF7UeiuEYMAbjWLl7L7fxhpuFlGBiMi00T9YzbmTB57ReutBc4pBg4H1K9MPxpltNlKBiEhXO7K4eZ+E9eTxsAAc0nr7d8BA+YHUAKstjDHerKYCEZGutGRgy9JGYHnzIA8+F8Dg+2ADpXzq5rjziQpERLpMdnDrcXi9APaWP79rX3RvFCuFhV+JL5k8kQpERLrC4uKWlwck8uAn/fld/7h5YqBU6P2v+JLJ7qhARCRW/QO1N2KedzgBALPteFis18PippWLNsQcT/ZABSIinedu2bW1AlDAeWrr3fUQ3Og7RoqVc/bZHGc8GR8ViIh0zOE3bNm3ZzQogBVwP6j19q8dBir59NpYw8mEqUBEJHJL121fUg/rBXNfAfS03v6OOwOVQvrTcWaTyVOBiEhk+tcOH+thYwXYP/75Xf93PBwoFxZ9Nb5k0g4qEBFp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'
    # output_filename = 'output.png'
    # decode_image_from_data_uri(data_uri, output_filename)
